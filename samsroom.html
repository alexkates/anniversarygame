<html>
<head>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
	<script type="text/javascript" src="scripts/core.js"></script>
</head>
<body onload="start()">
	<canvas id="graphics" style="position:absolute; top:0; left:0; border:solid;"></canvas>

</body>
</html>

<script>
var step = 10;

var sam_down = "content/sam/front.png";
var sam_right = "content/sam/right.png";
var sam_left = "content/sam/left.png";
var sam_up = "content/sam/back.png";
var sam_bed = "content/furnature/sam_bed.png";
var sam_dresser = "content/furnature/sam_dresser.png"

var canvasPoint = new point(getPageSize().x, getPageSize().y/2-10);

var sam = new object(
	new point(step,step),
	sam_down);
	
var sam_bed = new object(
	new point (0,canvasPoint.y/2),
	sam_bed);
	
var sam_dresser = new object(
	new point(canvasPoint.x-75, canvasPoint.y/2),
	sam_dresser);	
	
window.addEventListener('keydown',doKeyDown,true);

///////////////////
// end script
///////////////////


function doKeyDown(e) {
		var code = e.keyCode ? e.keyCode : e.which;
		switch (code) {
		case 87: //w
			sam.img = sam_up;
			if(!sam.willLeaveUp(step))
				sam.moveUp(step);
		break;
		case 65: //a
			sam.img = sam_left;
			if(!sam.willLeaveLeft(step))
				sam.moveLeft(step);
		break;
		case 83: //s
			sam.img = sam_down;
			if(!sam.willLeaveDown(step))
				sam.moveDown(step);
		break;
		case 68: //d
			sam.img = sam_right;
			if(!sam.willLeaveRight(step))
				sam.moveRight(step);
		break; 
	}
}

function draw() {
	drawImage(sam_bed.img, sam_bed.topLeft.x, sam_bed.topLeft.y);
	drawImage(sam_dresser.img, sam_dresser.topLeft.x, sam_dresser.topLeft.y);
	drawImage(sam.img, sam.topLeft.x, sam.topLeft.y);
}
</script>